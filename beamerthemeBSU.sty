% Copyright 2014 by Scott Havens

\ProvidesPackage{beamerthemeBSU}[2014/8/29]

% Define the BSU official colors from brand standards
\definecolor{Borange}{RGB}{241,99,42}
\definecolor{Bblue}{RGB}{9,52,122}
\definecolor{Bgray}{RGB}{49,49,45}

% set the overall font type to helvetica
% \usepackage{helvet}
\renewcommand{\rmdefault}{phv}
\renewcommand{\sfdefault}{phv}
\renewcommand{\ttdefault}{phv}
\renewcommand{\mathnormal}{phv}

\mode<presentation>

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% SET ALL THE COLOR / FONT THEMES
% - these take the place of usecolortheme

\usecolortheme{rose}

% set the font size and colors
\setbeamerfont{author}{size=\large,series=\bfseries}
% \setbeamercolor{author}{fg=Bgray}
\setbeamerfont{institute}{size=\footnotesize}
\setbeamerfont{date}{size=\footnotesize}
% \setbeamerfont{example text}{series=\bfseries}
\setbeamerfont{section}{series=\bfseries}
\setbeamercolor{structure}{fg=Bblue}
\setbeamercolor{title}{fg=Bblue}
\setbeamerfont{title}{series=\bfseries}

\setbeamerfont{frametitle}{series=\bfseries}
\setbeamercolor{frametitle}{fg=Borange,bg=Bblue!90!white}


% set the color for the head and footer text
\setbeamercolor*{author in head/foot}{fg=white,bg=Bblue}
\setbeamercolor*{title in head/foot}{fg=white,bg=Bblue}
\setbeamercolor*{date in head/foot}{fg=white,bg=Bblue}

% disable navigation symbols (who uses these anyway?)
\setbeamertemplate{navigation symbols}{}

\newif\ifbeamer@secheader
\beamer@secheaderfalse

% \DeclareOptionBeamer{secheader}{\beamer@secheadertrue}
% \ProcessOptionsBeamer

% \usecolortheme{whale}
% \usecolortheme{orchid}
% \useinnertheme[shadow]{rounded}
% \useoutertheme{infolines}

% \ifbeamer@secheader\else\setbeamertemplate{headline}[default]\fi

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% OUTER THEME
% - this is the sidebars, headers, and footers

% FOOTLINE
% from beamerouterthemeinfolines.sty
\defbeamertemplate*{footline}{BSU theme}
{
  \ifnum \insertpagenumber = 1
    \leavevmode%
    \hbox{%
    \begin{beamercolorbox}[wd=.333333\paperwidth,ht=2.25ex,dp=1ex,center]{author in head/foot}%
    \end{beamercolorbox}%
    \begin{beamercolorbox}[wd=.333333\paperwidth,ht=2.25ex,dp=1ex,center]{title in head/foot}%
    \end{beamercolorbox}%
    \begin{beamercolorbox}[wd=.333333\paperwidth,ht=2.25ex,dp=1ex,right]{date in head/foot}%
    \end{beamercolorbox}}%
    \vskip0pt%
  \else
    \leavevmode%
    \hbox{%
    \begin{beamercolorbox}[wd=.333333\paperwidth,ht=2.25ex,dp=1ex,center]{author in head/foot}%
      \usebeamerfont{author in head/foot}\insertshortauthor\expandafter\beamer@ifempty\expandafter{\beamer@shortinstitute}{}{~~(\insertshortinstitute)}
    \end{beamercolorbox}%
    \begin{beamercolorbox}[wd=.333333\paperwidth,ht=2.25ex,dp=1ex,center]{title in head/foot}%
      \usebeamerfont{title in head/foot}\insertshorttitle%\beamer@ifempty{\insertsection}{}{ : \insertsection}
    \end{beamercolorbox}%
    \begin{beamercolorbox}[wd=.333333\paperwidth,ht=2.25ex,dp=1ex,right]{date in head/foot}%
      \usebeamerfont{date in head/foot}\insertshortdate{}\hspace*{2em}
      \insertframenumber{} / \inserttotalframenumber\hspace*{2ex}
    \end{beamercolorbox}}%
    \vskip0pt%
  \fi
}
\setbeamertemplate{footline}[page number=1]{}

% \setlength{\beamer@headheight}{0cm}
%\newlength{\@headerdist}
%\setlength{\@headerdist}{2cm}
%\addtobeamertemplate{frametitle}{}{%
%  \begin{pgfpicture}
%%     \pgf@relevantforpicturesizefalse
%%     \pgftransformxshift{-\Gm@lmargin}
%%     \pgftransformyshift{\@headerdist+18pt}
%%    \pgfpathmoveto{\pgfpointorigin}
%    %   \pgfpathlineto{\pgfpoint{1cm}{1cm}}
%%    \pgfpathlineto{\pgfpoint{1\paperwidth}{0cm}}
%%    \pgfpathlineto{\pgfpoint{1\paperwidth}{2cm}}
%%    \pgfpathlineto{\pgfpoint{0cm}{2cm}}
%%    \pgfpathlineto{\pgfpoint{0cm}{1cm}}
%    \pgfpathrectanglecorners{\pgfpoint{0cm}{0cm}}{\pgfpoint{0.5\paperwidth}{-0.25\paperheight}}
%    \color{red}
%    \pgfusepath{stroke}
%  \end{pgfpicture}


%   \begin{pgfpicture}
%     \pgf@relevantforpicturesizefalse
%     \pgftransformxshift{-\Gm@lmargin}
%     \pgftransformyshift{\beamer@headheight+18pt}
% %     \pgftext[at=\pgfpoint{\paperwidth}{-\beamer@headheight},right,base]{\pgfuseimage{small-corner}}
%     \pgfpathmoveto{\pgfpoint{.15\paperwidth}{0pt}}
%     \pgfpathlineto{\pgfpoint{.15\paperwidth}{-\beamer@headheight}}
%     \pgfsetlinewidth{3.5pt}
%     \pgfsetinnerlinewidth{1pt}
%     \pgfsetinnerstrokecolor{Borange}
%     \pgfsetcolor{white}
%     \pgfusepath{stroke}
%     \pgfpathmoveto{\pgfpoint{.15\paperwidth}{-.23\paperheight}}
%     \pgfpathlineto{\pgfpoint{.15\paperwidth}{-.97\paperheight}}
%     \pgfsetlinewidth{1pt}
%     \pgfsetinnerlinewidth{0pt}
%     \pgfsetcolor{Borange}
%     \pgfusepath{stroke}
% %     \pgftext[at=\pgfpoint{.075\paperwidth}{-.97\paperheight},center,base]{\pgfuseimage{small-logo}}							
%   \end{pgfpicture}%
%   \vskip-25pt%
%}

\setbeamertemplate{frametitle}
{
%	\leavevmode%
	\nointerlineskip
	\begin{beamercolorbox}[sep=0.3cm,ht=2em,wd=\paperwidth]{frametitle}
%		\vbox{}\vskip-2ex%
		\vspace{-0.5ex}%
		\strut\insertframetitle\strut%
%        \vskip-0.8ex%
        	\hfill
		\raisebox{-0.5ex}{\includegraphics[width=0.8cm]{./BSU_theme/logo}}
	\end{beamercolorbox}
}

\setbeamersize{text margin left=1em,text margin right=1em}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% INNTER THEME
% - this is everything outside the sidebars, headers, and footers
% - includes section headings, title pages, etc...

% use the rectangle inner theme and modify
\useinnertheme{rounded}

% The default option for enumerate environment removes the circles around the numbers provided by the "rounded" inner theme. Just simple numbers remain.
\setbeamertemplate{enumerate items}[default]


% TITLE PAGE
\defbeamertemplate*{title page}{BSU theme}
{
  \vbox{}
  \vfill
  \begin{centering}
    \begin{beamercolorbox}[sep=8pt,center,1]{title}
      \usebeamerfont{title}\inserttitle\par%
      \ifx\insertsubtitle\@empty%
      \else%
        \vskip0.25em%
        {\usebeamerfont{subtitle}\usebeamercolor[fg]{subtitle}\insertsubtitle\par}%
      \fi%     
    \end{beamercolorbox}%
    \vskip1em\par
    \begin{beamercolorbox}[sep=8pt,center,1]{author}
      \usebeamerfont{author}\insertauthor
    \end{beamercolorbox}
    \begin{beamercolorbox}[sep=8pt,center,1]{institute}
      \usebeamerfont{institute}\insertinstitute
    \end{beamercolorbox}
    \begin{beamercolorbox}[sep=8pt,center,1]{date}
      \usebeamerfont{date}\insertdate
    \end{beamercolorbox}\vskip0.5em
    {\usebeamercolor[fg]{titlegraphic}\inserttitlegraphic\par}
  \end{centering}
  \vfill
}

% set the overall block shape
\setbeamertemplate{blocks}[rounded][shadow=true]

% block theme normal
\setbeamercolor{block title}{use=structure,fg=white,bg=structure.fg!95!black}
\setbeamercolor{block body}{parent=normal text,use=block title,bg=block title.bg!20!bg}

% block theme alerted
\setbeamercolor{block title alerted}{use=alerted text,fg=white,bg=alerted text.fg!75!black}
\setbeamercolor{block body alerted}{parent=normal text,use=block title alerted,bg=block title alerted.bg!20!bg}

% block theme example
\setbeamercolor{block title example}{use=example text,fg=white,bg=example text.fg!75!black}
\setbeamercolor{block body example}{parent=normal text,use=block title example,bg=block title example.bg!20!bg}


\mode
<all>
